{
    "chat.tools.terminal.autoApprove": {
        "/^cd /root/discord-bot && python3 << 'EOF'\nimport json\nimport asyncio\nfrom web\\.backend\\.utils import get_deep_stats_redis, get_redis_dashboard_stats, load_member_stats\n\nasync def test\\(\\):\n    guild_id = 615171377783242769\n    start_date = '2026-01-11'\n    end_date = '2026-02-10'\n    \n    try:\n        deep = await get_deep_stats_redis\\(guild_id, start_date=start_date, end_date=end_date\\)\n        dash = await get_redis_dashboard_stats\\(guild_id, start_date=start_date, end_date=end_date\\)\n        growth = await load_member_stats\\(guild_id, start_date=start_date, end_date=end_date\\)\n        \n        heatmap = dash\\.get\\('heatmap_data', \\[\\]\\)\n        hourly_dist = \\[0\\] \\* 24\n        if heatmap:\n            for d in range\\(7\\):\n                for h in range\\(24\\):\n                    try: hourly_dist\\[h\\] \\+= heatmap\\[d\\]\\[h\\]\n                    except: pass\n        \n        weekly = deep\\.get\\('weekly_data', \\[0\\]\\*7\\)\n        weekday_sum = sum\\(weekly\\[0:5\\]\\)\n        weekend_sum = sum\\(weekly\\[5:7\\]\\)\n        \n        response = \\{\n            \"status\": \"ok\",\n            \"hourly_dist\": hourly_dist,\n            \"weekly_dist\": weekly,\n            \"msg_length_dist\": dash\\.get\\('msglen_data', \\[0\\]\\*5\\),\n            \"avg_msg_len\": deep\\.get\\('avg_msg_len', 0\\),\n            \"dates\": growth\\.get\\('labels', \\[\\]\\),\n            \"growth_total\": growth\\.get\\('total', \\[\\]\\),\n            \"joins\": growth\\.get\\('joins', \\[\\]\\),\n            \"leaves\": growth\\.get\\('leaves', \\[\\]\\),\n            \"weekend_ratio\": \\{\"weekday\": weekday_sum, \"weekend\": weekend_sum\\},\n            \"stickiness\": deep\\.get\\('dau_mau_ratio', \\[\\]\\)\n        \\}\n        \n        # Try to serialize\n        print\\(\"Attempting to serialize response\\.\\.\\.\"\\)\n        json_str = json\\.dumps\\(response\\)\n        print\\(\"Success! Response is JSON serializable\"\\)\n        print\\(f\"Response size: \\{len\\(json_str\\)\\} bytes\"\\)\n        print\\(f\"\\\\nSample data:\"\\)\n        print\\(f\"  hourly_dist\\[0\\]: \\{response\\['hourly_dist'\\]\\[0\\]\\} \\(type: \\{type\\(response\\['hourly_dist'\\]\\[0\\]\\)\\.__name__\\}\\)\"\\)\n        print\\(f\"  weekly_dist\\[0\\]: \\{response\\['weekly_dist'\\]\\[0\\]\\} \\(type: \\{type\\(response\\['weekly_dist'\\]\\[0\\]\\)\\.__name__\\}\\)\"\\)\n        print\\(f\"  dates: \\{response\\['dates'\\]\\} \\(type: \\{type\\(response\\['dates'\\]\\)\\.__name__\\}\\)\"\\)\n        \n    except Exception as e:\n        print\\(f'Error: \\{e\\}'\\)\n        import traceback\n        traceback\\.print_exc\\(\\)\n\nasyncio\\.run\\(test\\(\\)\\)\nEOF\n$/": {
            "approve": true,
            "matchCommandLine": true
        }
    }
}